# volatile

**不保证原子性**

### 保证可见性

一个线程修改了volatile修饰的变量，当修改写回主内存时，另外一个线程立即看到最新的值

### 禁止指令重排

编译器会在生成指令系列时在适当的位置会插入`内存屏障`指令来禁止特定类型的处理器重排序。

volatile写是在前面和后面**分别插入内存屏障**，而volatile读操作是在**后面插入两个内存屏障**。