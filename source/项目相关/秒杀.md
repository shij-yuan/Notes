# 秒杀

1. redis 预热，定时任务保存未来秒杀商品信息
2. 用随机码替换商品ID，保护机制，避免恶意请求
3. 使用分布式信号量，商品数量作为许可数量

## 秒杀流程

1. 登录判断
2. 合法性校验
    - 秒杀时间
    - 随机码
    - 幂等性
3. 获取信号量
    - tryAcquire：非阻塞获取
4. 快速创建订单
5. 异步发送MQ消息

## 秒杀思路

1. 独立模块
2. 秒杀连接、信息加密
3. 库存预热，快速减库存
4. 动静分离
5. 拦截恶意请求
6. 流量削峰
7. 限流、熔断、降级



![](https://tva1.sinaimg.cn/large/007S8ZIlly1ghh5kcsa5xj30cg0dyt9s.jpg)